@startuml

class TripService {
    +void requestAvailability()
}

interface ServiceAdapter {
    +void request()
}

class ExternalAccommodationAdapter {
    -OldAPI oldAPI
    -NewAPI newAPI
    -boolean useOldAPI
    +ExternalAccommodationAdapter(oldAPI: OldAPI, newAPI: NewAPI)
    +void request()
    +void transformDataToOutput()
}

class OldAPI {
    +void externalRequest()
}

class NewAPI {
    +void externalRequest()
}

TripService --> ExternalAccommodationAdapter : requests availability
ExternalAccommodationAdapter --> OldAPI : queries if useOldAPI is true
ExternalAccommodationAdapter --> NewAPI : queries if useOldAPI is false
ServiceAdapter <|.. ExternalAccommodationAdapter

@enduml
